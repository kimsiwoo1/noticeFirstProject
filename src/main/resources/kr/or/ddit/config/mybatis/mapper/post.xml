<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="post">

	<insert id="insertPost" parameterType="postVo">
		insert into postpro(postno, boardno, postnm, postcontents, userid, writedate, parentpostno, del) 
		values(POST_SEQ.NEXTVAL, #{boardNo}, #{postNm}, #{postContents}, #{userId}, sysdate, decode(#{parentPostNo}, 0, null), #{del})
	</insert>
	
	<select id="getPost" parameterType="Integer" resultType="postVo">
		select * from postpro where boardno=#{boardNo}
	</select>
	
	<select id="getDetailPost" parameterType="Integer" resultType="postVo">
		select * from postpro where postno=#{postNo}
	</select>
	
	<update id="updatePost" parameterType="postVo">
		update postpro set postnm=#{postNm}, postcontents=#{postContents} where postno=#{postNo}
	</update>
	

</mapper>